document.addEventListener('DOMContentLoaded', () => {

    const recomendacaoCritico = `<h3>Seu Plano de AÃ§Ã£o Recomendado</h3><p>Seu diagnÃ³stico aponta <strong>riscos operacionais e financeiros imediatos</strong>. A parceria com a <strong>Techcomp</strong> garante:</p><ul class="beneficios-lista"><li>ğŸ›‘ InterrupÃ§Ã£o das suas perdas financeiras por paradas no sistema.</li><li>âš¡ EstabilizaÃ§Ã£o imediata da sua rede para garantir as vendas.</li><li>ğŸ›¡ï¸ ProteÃ§Ã£o para seus equipamentos contra falhas inesperadas.</li><li>ğŸ‘¨â€ğŸ’» Acesso ao nosso suporte tÃ©cnico especializado para emergÃªncias.</li></ul><a href="https://wa.me/558481878563?text=OlÃ¡!%20Recebi%20meu%20diagnÃ³stico%20e%20ele%20foi%20CRÃTICO.%20Preciso%20de%20ajuda." target="_blank" class="cta-whatsapp">Fale agora com um especialista no WhatsApp</a><p class="fechamento">Deixe a Techcomp cuidar da sua tecnologia para que vocÃª possa focar no que realmente importa: seu negÃ³cio.</p>`;
    const recomendacaoIntermediario = `<h3>Seu Plano de AÃ§Ã£o Recomendado</h3><p>Seu diagnÃ³stico aponta que sua operaÃ§Ã£o funciona, mas com <strong>vulnerabilidades que podem se tornar problemas graves</strong>. A parceria com a <strong>Techcomp</strong> garante:</p><ul class="beneficios-lista"><li>âš™ï¸ OtimizaÃ§Ã£o da sua rede para acabar com a lentidÃ£o nos horÃ¡rios de pico.</li><li>ğŸ“ˆ Previsibilidade para que vocÃª evite futuras falhas e custos extras.</li><li>ğŸ”’ Aumento da seguranÃ§a do seu negÃ³cio contra riscos digitais.</li><li>ğŸ˜Œ Mais tranquilidade para vocÃª e sua equipe focarem nos clientes.</li></ul><a href="https://wa.me/558481878563?text=OlÃ¡!%20Recebi%20meu%20diagnÃ³stico%20e%20ele%20foi%20INTERMEDIÃRIO.%20Quero%20saber%20como%20melhorar." target="_blank" class="cta-whatsapp">Fale agora com um especialista no WhatsApp</a><p class="fechamento">Deixe-nos te ajudar a encontrar a tranquilidade que vocÃª merece.</p>`;
    const recomendacaoSaudavel = `<h3>Seu Plano de AÃ§Ã£o EstratÃ©gico</h3><p>ParabÃ©ns! VocÃª jÃ¡ tem uma infraestrutura de TI sÃ³lida. Para empresas como a sua, o prÃ³ximo passo Ã© evoluir. A parceria com a <strong>Techcomp</strong> garante:</p><ul class="beneficios-lista"><li>ğŸš€ EvoluÃ§Ã£o da sua estrutura para um novo patamar de seguranÃ§a e inteligÃªncia.</li><li>ğŸ“Š GeraÃ§Ã£o de dados e insights para suas decisÃµes comerciais mais assertivas.</li><li>ğŸ›¡ï¸ Blindagem completa para seu negÃ³cio com nossas soluÃ§Ãµes avanÃ§adas (SEGCOMP).</li><li>ğŸ¥‡ ManutenÃ§Ã£o da sua vantagem competitiva no mercado.</li></ul><a href="https://wa.me/558481878563?text=OlÃ¡!%20Recebi%20meu%20diagnÃ³stico%20e%20ele%20foi%20SAUDÃVEL.%20Quero%20conhecer%20os%20prÃ³ximos%20passos." target="_blank" class="cta-whatsapp">Fale agora com um especialista no WhatsApp</a><p class="fechamento">Vamos juntos garantir que sua operaÃ§Ã£o continue sendo referÃªncia.</p>`;

    const diagnosticoTextos = {A:{A:{A:{geral:"ğŸŸ¢ Estrutura SaudÃ¡vel",pilar1:"ParabÃ©ns, vocÃª possui um excelente controle sobre seus equipamentos, alertando sobre riscos antes que virem problemas. Isso demonstra um alto nÃ­vel de maturidade em TI e protege sua operaÃ§Ã£o de paradas inesperadas.",pilar2:"Sua rede Ã© um diferencial competitivo. Por ser estÃ¡vel e priorizar o que Ã© crÃ­tico, vocÃª garante que sua operaÃ§Ã£o flua sem interrupÃ§Ãµes, mesmo nos horÃ¡rios de pico, e que nenhuma venda seja perdida por falhas de conexÃ£o.",pilar3:"Excelente! Sua rotina de manutenÃ§Ã£o preventiva garante que seus equipamentos e sistemas operem sempre com a mÃ¡xima performance e seguranÃ§a, evitando surpresas e custos desnecessÃ¡rios.",recomendacao:recomendacaoSaudavel},B:{geral:"ğŸŸ¢ Estrutura SaudÃ¡vel",pilar1:"ParabÃ©ns, vocÃª possui um excelente controle sobre seus equipamentos, alertando sobre riscos antes que virem problemas. Isso demonstra um alto nÃ­vel de maturidade em TI e protege sua operaÃ§Ã£o de paradas inesperadas.",pilar2:"Sua rede Ã© estÃ¡vel, o que Ã© Ã³timo para o negÃ³cio. Isso garante que a operaÃ§Ã£o flua sem interrupÃ§Ãµes na maior parte do tempo e que as vendas nÃ£o sejam frequentemente perdidas por problemas de conexÃ£o.",pilar3:"Sua manutenÃ§Ã£o interna, ainda que reativa, mostra uma preocupaÃ§Ã£o com a saÃºde dos equipamentos. No entanto, depender de 'sobrar tempo' pode gerar sobrecarga e nÃ£o cobrir todas as necessidades de forma preventiva.",recomendacao:recomendacaoSaudavel},C:{geral:"ğŸŸ  IntermediÃ¡rio",pilar1:"VocÃª possui um excelente controle sobre seus equipamentos, o que Ã© um ponto muito forte. No entanto, esse esforÃ§o pode ser em vÃ£o se a sua base nÃ£o for cuidada.",pilar2:"Sua rede Ã© estÃ¡vel, o que Ã© Ã³timo para o negÃ³cio. Isso garante que a operaÃ§Ã£o flua sem interrupÃ§Ãµes na maior parte do tempo e que as vendas nÃ£o sejam frequentemente perdidas por problemas de conexÃ£o.",pilar3:"A ausÃªncia de manutenÃ§Ã£o preventiva Ã© o ponto mais crÃ­tico da sua estrutura. Seus equipamentos, mesmo os melhores, podem falhar a qualquer momento sem aviso, comprometendo toda a sua operaÃ§Ã£o.",recomendacao:recomendacaoIntermediario}},B:{A:{geral:"ğŸŸ¢ Estrutura SaudÃ¡vel",pilar1:"ParabÃ©ns, vocÃª possui um excelente controle sobre seus equipamentos, alertando sobre riscos antes que virem problemas. Isso demonstra um alto nÃ­vel de maturidade em TI e protege sua operaÃ§Ã£o de paradas inesperadas.",pilar2:"As instabilidades ocasionais na sua rede sÃ£o um ponto de atenÃ§Ã£o. Embora pareÃ§am pequenas, essas falhas geram lentidÃ£o, afetam a experiÃªncia do seu cliente e podem representar riscos de seguranÃ§a para vocÃª.",pilar3:"Excelente! Sua rotina de manutenÃ§Ã£o preventiva garante que seus equipamentos e sistemas operem sempre com a mÃ¡xima performance e seguranÃ§a, evitando surpresas e custos desnecessÃ¡rios.",recomendacao:recomendacaoSaudavel},B:{geral:"ğŸŸ  IntermediÃ¡rio",pilar1:"VocÃª possui um excelente controle sobre seus equipamentos, o que Ã© um ponto muito forte. No entanto, esse esforÃ§o pode ser em vÃ£o se a sua base nÃ£o for cuidada.",pilar2:"As instabilidades ocasionais na sua rede sÃ£o um ponto de atenÃ§Ã£o. Embora pareÃ§am pequenas, essas falhas geram lentidÃ£o, afetam a experiÃªncia do seu cliente e podem representar riscos de seguranÃ§a para vocÃª.",pilar3:"Sua manutenÃ§Ã£o interna, ainda que reativa, mostra uma preocupaÃ§Ã£o com a saÃºde dos equipamentos. No entanto, depender de 'sobrar tempo' pode gerar sobrecarga e nÃ£o cobrir todas as necessidades de forma preventiva.",recomendacao:recomendacaoIntermediario},C:{geral:"ğŸŸ  IntermediÃ¡rio",pilar1:"VocÃª possui um excelente controle sobre seus equipamentos, o que Ã© um ponto muito forte. No entanto, esse esforÃ§o pode ser em vÃ£o se a sua base nÃ£o for cuidada.",pilar2:"As instabilidades ocasionais na sua rede sÃ£o um ponto de atenÃ§Ã£o. Embora pareÃ§am pequenas, essas falhas geram lentidÃ£o, afetam a experiÃªncia do seu cliente e podem representar riscos de seguranÃ§a para vocÃª.",pilar3:"A ausÃªncia de manutenÃ§Ã£o preventiva Ã© o ponto mais crÃ­tico da sua estrutura. Seus equipamentos, mesmo os melhores, podem falhar a qualquer momento sem aviso, comprometendo toda a sua operaÃ§Ã£o.",recomendacao:recomendacaoIntermediario}},C:{A:{geral:"ğŸŸ  IntermediÃ¡rio",pilar1:"VocÃª possui um excelente controle sobre seus equipamentos, o que Ã© um ponto muito forte. No entanto, esse esforÃ§o pode ser em vÃ£o se a sua base nÃ£o for cuidada.",pilar2:"Sua rede instÃ¡vel Ã© o principal gargalo do seu negÃ³cio. As quedas e a lentidÃ£o frequentes causam perda de vendas para vocÃª, estresse na equipe e danos Ã  reputaÃ§Ã£o da sua empresa.",pilar3:"Excelente! Sua rotina de manutenÃ§Ã£o preventiva garante que seus equipamentos e sistemas operem sempre com a mÃ¡xima performance e seguranÃ§a, evitando surpresas e custos desnecessÃ¡rios.",recomendacao:recomendacaoIntermediario},B:{geral:"ğŸŸ  IntermediÃ¡rio",pilar1:"VocÃª possui um excelente controle sobre seus equipamentos, o que Ã© um ponto muito forte. No entanto, esse esforÃ§o pode ser em vÃ£o se a sua base nÃ£o for cuidada.",pilar2:"Sua rede instÃ¡vel Ã© o principal gargalo do seu negÃ³cio. As quedas e a lentidÃ£o frequentes causam perda de vendas para vocÃª, estresse na equipe e danos Ã  reputaÃ§Ã£o da sua empresa.",pilar3:"Sua manutenÃ§Ã£o interna, ainda que reativa, mostra uma preocupaÃ§Ã£o com a saÃºde dos equipamentos. No entanto, depender de 'sobrar tempo' pode gerar sobrecarga e nÃ£o cobrir todas as necessidades de forma preventiva.",recomendacao:recomendacaoIntermediario},C:{geral:"ğŸ”´ CrÃ­tico",pilar1:"VocÃª possui um excelente controle sobre seus equipamentos, o que Ã© um ponto muito forte. No entanto, esse esforÃ§o pode ser em vÃ£o se a sua base nÃ£o for cuidada.",pilar2:"Sua rede instÃ¡vel Ã© o principal gargalo do seu negÃ³cio. As quedas e a lentidÃ£o frequentes causam perda de vendas para vocÃª, estresse na equipe e danos Ã  reputaÃ§Ã£o da sua empresa.",pilar3:"A ausÃªncia de manutenÃ§Ã£o preventiva Ã© o ponto mais crÃ­tico da sua estrutura. Seus equipamentos, mesmo os melhores, podem falhar a qualquer momento sem aviso, comprometendo toda a sua operaÃ§Ã£o.",recomendacao:recomendacaoCritico}}},B:{A:{A:{geral:"ğŸŸ¢ Estrutura SaudÃ¡vel",pilar1:"Confiar apenas na percepÃ§Ã£o da sua equipe para identificar falhas Ã© uma abordagem reativa. Problemas 'silenciosos', como um disco rÃ­gido prestes a falhar, podem nÃ£o ser notados por vocÃª atÃ© que seja tarde demais e a operaÃ§Ã£o pare.",pilar2:"Sua rede Ã© um diferencial competitivo. Por ser estÃ¡vel e priorizar o que Ã© crÃ­tico, vocÃª garante que sua operaÃ§Ã£o flua sem interrupÃ§Ãµes, mesmo nos horÃ¡rios de pico, e que nenhuma venda seja perdida por falhas de conexÃ£o.",pilar3:"Excelente! Sua rotina de manutenÃ§Ã£o preventiva garante que seus equipamentos e sistemas operem sempre com a mÃ¡xima performance e seguranÃ§a, evitando surpresas e custos desnecessÃ¡rios.",recomendacao:recomendacaoSaudavel},B:{geral:"ğŸŸ  IntermediÃ¡rio",pilar1:"Confiar apenas na percepÃ§Ã£o da sua equipe para identificar falhas Ã© uma abordagem reativa. Problemas 'silenciosos', como um disco rÃ­gido prestes a falhar, podem nÃ£o ser notados por vocÃª atÃ© que seja tarde demais e a operaÃ§Ã£o pare.",pilar2:"Sua rede Ã© estÃ¡vel, o que Ã© Ã³timo para o negÃ³cio. Isso garante que a operaÃ§Ã£o flua sem interrupÃ§Ãµes na maior parte do tempo e que as vendas nÃ£o sejam frequentemente perdidas por problemas de conexÃ£o.",pilar3:"Sua manutenÃ§Ã£o interna, ainda que reativa, mostra uma preocupaÃ§Ã£o com a saÃºde dos equipamentos. No entanto, depender de 'sobrar tempo' pode gerar sobrecarga e nÃ£o cobrir todas as necessidades de forma preventiva.",recomendacao:recomendacaoIntermediario},C:{geral:"ğŸŸ  IntermediÃ¡rio",pilar1:"Confiar apenas na percepÃ§Ã£o da sua equipe para identificar falhas Ã© uma abordagem reativa. Problemas 'silenciosos', como um disco rÃ­gido prestes a falhar, podem nÃ£o ser notados por vocÃª atÃ© que seja tarde demais e a operaÃ§Ã£o pare.",pilar2:"Sua rede Ã© estÃ¡vel, o que Ã© Ã³timo para o negÃ³cio. Isso garante que a operaÃ§Ã£o flua sem interrupÃ§Ãµes na maior parte do tempo e que as vendas nÃ£o sejam frequentemente perdidas por problemas de conexÃ£o.",pilar3:"A ausÃªncia de manutenÃ§Ã£o preventiva Ã© o ponto mais crÃ­tico da sua estrutura. Seus equipamentos, mesmo os melhores, podem falhar a qualquer momento sem aviso, comprometendo toda a sua operaÃ§Ã£o.",recomendacao:recomendacaoIntermediario}},B:{A:{geral:"ğŸŸ  IntermediÃ¡rio",pilar1:"Confiar apenas na percepÃ§Ã£o da sua equipe para identificar falhas Ã© uma abordagem reativa. Problemas 'silenciosos', como um disco rÃ­gido prestes a falhar, podem nÃ£o ser notados por vocÃª atÃ© que seja tarde demais e a operaÃ§Ã£o pare.",pilar2:"As instabilidades ocasionais na sua rede sÃ£o um ponto de atenÃ§Ã£o. Embora pareÃ§am pequenas, essas falhas geram lentidÃ£o, afetam a experiÃªncia do seu cliente e podem representar riscos de seguranÃ§a para vocÃª.",pilar3:"Excelente! Sua rotina de manutenÃ§Ã£o preventiva garante que seus equipamentos e sistemas operem sempre com a mÃ¡xima performance e seguranÃ§a, evitando surpresas e custos desnecessÃ¡rios.",recomendacao:recomendacaoIntermediario},B:{geral:"ğŸŸ  IntermediÃ¡rio",pilar1:"Confiar apenas na percepÃ§Ã£o da sua equipe para identificar falhas Ã© uma abordagem reativa. Problemas 'silenciosos', como um disco rÃ­gido prestes a falhar, podem nÃ£o ser notados por vocÃª atÃ© que seja tarde demais e a operaÃ§Ã£o pare.",pilar2:"As instabilidades ocasionais na sua rede sÃ£o um ponto de atenÃ§Ã£o. Embora pareÃ§am pequenas, essas falhas geram lentidÃ£o, afetam a experiÃªncia do seu cliente e podem representar riscos de seguranÃ§a para vocÃª.",pilar3:"Sua manutenÃ§Ã£o interna, ainda que reativa, mostra uma preocupaÃ§Ã£o com a saÃºde dos equipamentos. No entanto, depender de 'sobrar tempo' pode gerar sobrecarga e nÃ£o cobrir todas as necessidades de forma preventiva.",recomendacao:recomendacaoIntermediario},C:{geral:"ğŸ”´ CrÃ­tico",pilar1:"Confiar apenas na percepÃ§Ã£o da sua equipe para identificar falhas Ã© uma abordagem reativa. Problemas 'silenciosos', como um disco rÃ­gido prestes a falhar, podem nÃ£o ser notados por vocÃª atÃ© que seja tarde demais e a operaÃ§Ã£o pare.",pilar2:"As instabilidades ocasionais na sua rede sÃ£o um ponto de atenÃ§Ã£o. Embora pareÃ§am pequenas, essas falhas geram lentidÃ£o, afetam a experiÃªncia do seu cliente e podem representar riscos de seguranÃ§a para vocÃª.",pilar3:"A ausÃªncia de manutenÃ§Ã£o preventiva Ã© o ponto mais crÃ­tico da sua estrutura. Seus equipamentos, mesmo os melhores, podem falhar a qualquer momento sem aviso, comprometendo toda a sua operaÃ§Ã£o.",recomendacao:recomendacaoCritico}},C:{A:{geral:"ğŸŸ  IntermediÃ¡rio",pilar1:"Confiar apenas na percepÃ§Ã£o da sua equipe para identificar falhas Ã© uma abordagem reativa. Problemas 'silenciosos', como um disco rÃ­gido prestes a falhar, podem nÃ£o ser notados por vocÃª atÃ© que seja tarde demais e a operaÃ§Ã£o pare.",pilar2:"Sua rede instÃ¡vel Ã© o principal gargalo do seu negÃ³cio. As quedas e a lentidÃ£o frequentes causam perda de vendas para vocÃª, estresse na equipe e danos Ã  reputaÃ§Ã£o da sua empresa.",pilar3:"Excelente! Sua rotina de manutenÃ§Ã£o preventiva garante que seus equipamentos e sistemas operem sempre com a mÃ¡xima performance e seguranÃ§a, evitando surpresas e custos desnecessÃ¡rios.",recomendacao:recomendacaoIntermediario},B:{geral:"ğŸ”´ CrÃ­tico",pilar1:"Confiar apenas na percepÃ§Ã£o da sua equipe para identificar falhas Ã© uma abordagem reativa. Problemas 'silenciosos', como um disco rÃ­gido prestes a falhar, podem nÃ£o ser notados por vocÃª atÃ© que seja tarde demais e a operaÃ§Ã£o pare.",pilar2:"Sua rede instÃ¡vel Ã© o principal gargalo do seu negÃ³cio. As quedas e a lentidÃ£o frequentes causam perda de vendas para vocÃª, estresse na equipe e danos Ã  reputaÃ§Ã£o da sua empresa.",pilar3:"Sua manutenÃ§Ã£o interna, ainda que reativa, mostra uma preocupaÃ§Ã£o com a saÃºde dos equipamentos. No entanto, depender de 'sobrar tempo' pode gerar sobrecarga e nÃ£o cobrir todas as necessidades de forma preventiva.",recomendacao:recomendacaoCritico},C:{geral:"ğŸ”´ CrÃ­tico",pilar1:"Confiar apenas na percepÃ§Ã£o da sua equipe para identificar falhas Ã© uma abordagem reativa. Problemas 'silenciosos', como um disco rÃ­gido prestes a falhar, podem nÃ£o ser notados por vocÃª atÃ© que seja tarde demais e a operaÃ§Ã£o pare.",pilar2:"Sua rede instÃ¡vel Ã© o principal gargalo do seu negÃ³cio. As quedas e a lentidÃ£o frequentes causam perda de vendas para vocÃª, estresse na equipe e danos Ã  reputaÃ§Ã£o da sua empresa.",pilar3:"A ausÃªncia de manutenÃ§Ã£o preventiva Ã© o ponto mais crÃ­tico da sua estrutura. Seus equipamentos, mesmo os melhores, podem falhar a qualquer momento sem aviso, comprometendo toda a sua operaÃ§Ã£o.",recomendacao:recomendacaoCritico}}},C:{A:{A:{geral:"ğŸŸ  IntermediÃ¡rio",pilar1:"Atualmente, vocÃª sÃ³ descobre uma falha quando sua operaÃ§Ã£o jÃ¡ parou. Este Ã© o cenÃ¡rio de maior risco, pois cada minuto com o sistema inativo se traduz diretamente em perda de faturamento e na confianÃ§a do seu cliente.",pilar2:"Sua rede Ã© um diferencial competitivo. Por ser estÃ¡vel e priorizar o que Ã© crÃ­tico, vocÃª garante que sua operaÃ§Ã£o flua sem interrupÃ§Ãµes, mesmo nos horÃ¡rios de pico, e que nenhuma venda seja perdida por falhas de conexÃ£o.",pilar3:"Excelente! Sua rotina de manutenÃ§Ã£o preventiva garante que seus equipamentos e sistemas operem sempre com a mÃ¡xima performance e seguranÃ§a, evitando surpresas e custos desnecessÃ¡rios.",recomendacao:recomendacaoIntermediario},B:{geral:"ğŸŸ  IntermediÃ¡rio",pilar1:"Atualmente, vocÃª sÃ³ descobre uma falha quando sua operaÃ§Ã£o jÃ¡ parou. Este Ã© o cenÃ¡rio de maior risco, pois cada minuto com o sistema inativo se traduz diretamente em perda de faturamento e na confianÃ§a do seu cliente.",pilar2:"Sua rede Ã© estÃ¡vel, o que Ã© Ã³timo para o negÃ³cio. Isso garante que a operaÃ§Ã£o flua sem interrupÃ§Ãµes na maior parte do tempo e que as vendas nÃ£o sejam frequentemente perdidas por problemas de conexÃ£o.",pilar3:"Sua manutenÃ§Ã£o interna, ainda que reativa, mostra uma preocupaÃ§Ã£o com a saÃºde dos equipamentos. No entanto, depender de 'sobrar tempo' pode gerar sobrecarga e nÃ£o cobrir todas as necessidades de forma preventiva.",recomendacao:recomendacaoIntermediario},C:{geral:"ğŸ”´ CrÃ­tico",pilar1:"Atualmente, vocÃª sÃ³ descobre uma falha quando sua operaÃ§Ã£o jÃ¡ parou. Este Ã© o cenÃ¡rio de maior risco, pois cada minuto com o sistema inativo se traduz diretamente em perda de faturamento e na confianÃ§a do seu cliente.",pilar2:"Sua rede Ã© estÃ¡vel, o que Ã© Ã³timo para o negÃ³cio. Isso garante que a operaÃ§Ã£o flua sem interrupÃ§Ãµes na maior parte do tempo e que as vendas nÃ£o sejam frequentemente perdidas por problemas de conexÃ£o.",pilar3:"A ausÃªncia de manutenÃ§Ã£o preventiva Ã© o ponto mais crÃ­tico da sua estrutura. Seus equipamentos, mesmo os melhores, podem falhar a qualquer momento sem aviso, comprometendo toda a sua operaÃ§Ã£o.",recomendacao:recomendacaoCritico}},B:{A:{geral:"ğŸŸ  IntermediÃ¡rio",pilar1:"Atualmente, vocÃª sÃ³ descobre uma falha quando sua operaÃ§Ã£o jÃ¡ parou. Este Ã© o cenÃ¡rio de maior risco, pois cada minuto com o sistema inativo se traduz diretamente em perda de faturamento e na confianÃ§a do seu cliente.",pilar2:"As instabilidades ocasionais na sua rede sÃ£o um ponto de atenÃ§Ã£o. Embora pareÃ§am pequenas, essas falhas geram lentidÃ£o, afetam a experiÃªncia do seu cliente e podem representar riscos de seguranÃ§a para vocÃª.",pilar3:"Excelente! Sua rotina de manutenÃ§Ã£o preventiva garante que seus equipamentos e sistemas operem sempre com a mÃ¡xima performance e seguranÃ§a, evitando surpresas e custos desnecessÃ¡rios.",recomendacao:recomendacaoIntermediario},B:{geral:"ğŸ”´ CrÃ­tico",pilar1:"Atualmente, vocÃª sÃ³ descobre uma falha quando sua operaÃ§Ã£o jÃ¡ parou. Este Ã© o cenÃ¡rio de maior risco, pois cada minuto com o sistema inativo se traduz diretamente em perda de faturamento e na confianÃ§a do seu cliente.",pilar2:"As instabilidades ocasionais na sua rede sÃ£o um ponto de atenÃ§Ã£o. Embora pareÃ§am pequenas, essas falhas geram lentidÃ£o, afetam a experiÃªncia do seu cliente e podem representar riscos de seguranÃ§a para vocÃª.",pilar3:"Sua manutenÃ§Ã£o interna, ainda que reativa, mostra uma preocupaÃ§Ã£o com a saÃºde dos equipamentos. No entanto, depender de 'sobrar tempo' pode gerar sobrecarga e nÃ£o cobrir todas as necessidades de forma preventiva.",recomendacao:recomendacaoCritico},C:{geral:"ğŸ”´ CrÃ­tico",pilar1:"Atualmente, vocÃª sÃ³ descobre uma falha quando sua operaÃ§Ã£o jÃ¡ parou. Este Ã© o cenÃ¡rio de maior risco, pois cada minuto com o sistema inativo se traduz diretamente em perda de faturamento e na confianÃ§a do seu cliente.",pilar2:"As instabilidades ocasionais na sua rede sÃ£o um ponto de atenÃ§Ã£o. Embora pareÃ§am pequenas, essas falhas geram lentidÃ£o, afetam a experiÃªncia do seu cliente e podem representar riscos de seguranÃ§a para vocÃª.",pilar3:"A ausÃªncia de manutenÃ§Ã£o preventiva Ã© o ponto mais crÃ­tico da sua estrutura. Seus equipamentos, mesmo os melhores, podem falhar a qualquer momento sem aviso, comprometendo toda a sua operaÃ§Ã£o.",recomendacao:recomendacaoCritico}},C:{A:{geral:"ğŸ”´ CrÃ­tico",pilar1:"Atualmente, vocÃª sÃ³ descobre uma falha quando sua operaÃ§Ã£o jÃ¡ parou. Este Ã© o cenÃ¡rio de maior risco, pois cada minuto com o sistema inativo se traduz diretamente em perda de faturamento e na confianÃ§a do seu cliente.",pilar2:"Sua rede instÃ¡vel Ã© o principal gargalo do seu negÃ³cio. As quedas e a lentidÃ£o frequentes causam perda de vendas para vocÃª, estresse na equipe e danos Ã  reputaÃ§Ã£o da sua empresa.",pilar3:"Excelente! Sua rotina de manutenÃ§Ã£o preventiva garante que seus equipamentos e sistemas operem sempre com a mÃ¡xima performance e seguranÃ§a, evitando surpresas e custos desnecessÃ¡rios.",recomendacao:recomendacaoCritico},B:{geral:"ğŸ”´ CrÃ­tico",pilar1:"Atualmente, vocÃª sÃ³ descobre uma falha quando sua operaÃ§Ã£o jÃ¡ parou. Este Ã© o cenÃ¡rio de maior risco, pois cada minuto com o sistema inativo se traduz diretamente em perda de faturamento e na confianÃ§a do seu cliente.",pilar2:"Sua rede instÃ¡vel Ã© o principal gargalo do seu negÃ³cio. As quedas e a lentidÃ£o frequentes causam perda de vendas para vocÃª, estresse na equipe e danos Ã  reputaÃ§Ã£o da sua empresa.",pilar3:"Sua manutenÃ§Ã£o interna, ainda que reativa, mostra uma preocupaÃ§Ã£o com a saÃºde dos equipamentos. No entanto, depender de 'sobrar tempo' pode gerar sobrecarga e nÃ£o cobrir todas as necessidades de forma preventiva.",recomendacao:recomendacaoCritico},C:{geral:"ğŸ”´ CrÃ­tico",pilar1:"Atualmente, vocÃª sÃ³ descobre uma falha quando sua operaÃ§Ã£o jÃ¡ parou. Este Ã© o cenÃ¡rio de maior risco, pois cada minuto com o sistema inativo se traduz diretamente em perda de faturamento e na confianÃ§a do seu cliente.",pilar2:"Sua rede instÃ¡vel Ã© o principal gargalo do seu negÃ³cio. As quedas e a lentidÃ£o frequentes causam perda de vendas para vocÃª, estresse na equipe e danos Ã  reputaÃ§Ã£o da sua empresa.",pilar3:"A ausÃªncia de manutenÃ§Ã£o preventiva Ã© o ponto mais crÃ­tico da sua estrutura. Seus equipamentos, mesmo os melhores, podem falhar a qualquer momento sem aviso, comprometendo toda a sua operaÃ§Ã£o.",recomendacao:recomendacaoCritico}}}};
            
    const form = document.getElementById('formulario');
    const divDiagnostico = document.getElementById('diagnostico');
    const gerarBtn = document.getElementById('gerar-btn');
    const pdfBtn = document.getElementById('pdf-btn');
    let diagnosticoAtual = null;

    form.addEventListener('submit', function (e) {
        e.preventDefault();
        
        
            const resp1 = form.querySelector('input[name="pergunta1"]:checked')?.value;
            const resp2 = form.querySelector('input[name="pergunta2"]:checked')?.value;
            const resp3 = form.querySelector('input[name="pergunta3"]:checked')?.value;

            if (!resp1 || !resp2 || !resp3) {
                alert("Por favor, responda a todas as perguntas para gerar o diagnÃ³stico.");
                return;
            }
            
            diagnosticoAtual = diagnosticoTextos[resp1][resp2][resp3];
            
            const resultadoHTML = `
                <h2>DiagnÃ³stico Personalizado</h2>
                <div id="diagnostico-geral" class="${getClasseEstilo(diagnosticoAtual.geral)}">
                    ${diagnosticoAtual.geral}
                </div>
                <div class="pilar-resultado">
                    <h3>Pilar 1: Monitoramento de Equipamentos</h3>
                    <p>${diagnosticoAtual.pilar1}</p>
                </div>
                <div class="pilar-resultado">
                    <h3>Pilar 2: Conectividade / Internet</h3>
                    <p>${diagnosticoAtual.pilar2}</p>
                </div>
                <div class="pilar-resultado">
                    <h3>Pilar 3: ManutenÃ§Ã£o Preventiva</h3>
                    <p>${diagnosticoAtual.pilar3}</p>
                </div>
                <div id="recomendacao-final">
                    ${diagnosticoAtual.recomendacao}
                </div>
            `;
            
            divDiagnostico.innerHTML = resultadoHTML;
            divDiagnostico.style.display = "block";
            gerarBtn.style.display = 'none';
            pdfBtn.style.display = 'inline-block';
            divDiagnostico.scrollIntoView({ behavior: 'smooth', block: 'start' });

        
    });

    pdfBtn.addEventListener('click', function() {
        if (diagnosticoAtual) {
            gerarEBaixarPDF(diagnosticoAtual);
        } else {
            alert("Por favor, gere um diagnÃ³stico primeiro para depois salvar em PDF.");
        }
    });

    // FunÃ§Ã£o que usa jsPDF para criar o PDF de forma programÃ¡tica e confiÃ¡vel
    function gerarEBaixarPDF(diagnostico) {
        try {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF({ orientation: 'p', unit: 'mm', format: 'a4' });

            let y = 20;
            const margin = 15;
            const maxWidth = doc.internal.pageSize.getWidth() - (margin * 2);

            doc.setFontSize(20);
            doc.setFont("helvetica", "bold");
            doc.setTextColor("#1e3a8a");
            doc.text("DiagnÃ³stico de Infraestrutura de TI", doc.internal.pageSize.getWidth() / 2, y, { align: 'center' });
            y += 15;

            doc.setFontSize(14);
            if (diagnostico.geral.includes("CrÃ­tico")) doc.setTextColor(192, 0, 0);
            else if (diagnostico.geral.includes("IntermediÃ¡rio")) doc.setTextColor(245, 128, 40);
            else doc.setTextColor(34, 139, 34);
            doc.text(diagnostico.geral, doc.internal.pageSize.getWidth() / 2, y, { align: 'center' });
            y += 15;
            doc.setDrawColor("#e2e8f0");
            doc.line(margin, y - 7, doc.internal.pageSize.getWidth() - margin, y - 7);
            
            doc.setTextColor(0, 0, 0);

            function adicionarSecao(titulo, texto) {
                if (y > doc.internal.pageSize.getHeight() - 40) {
                    doc.addPage();
                    y = 20;
                }
                doc.setFontSize(13);
                doc.setFont("helvetica", "bold");
                doc.setTextColor("#1e3a8a");
                doc.text(titulo, margin, y);
                y += 8;

                doc.setFontSize(11);
                doc.setFont("helvetica", "normal");
                doc.setTextColor("#333333");
                const linhas = doc.splitTextToSize(texto, maxWidth);
                doc.text(linhas, margin, y);
                y += (linhas.length * 5) + 10;
            }

            adicionarSecao("Pilar 1: Monitoramento de Equipamentos", diagnostico.pilar1);
            adicionarSecao("Pilar 2: Conectividade / Internet", diagnostico.pilar2);
            adicionarSecao("Pilar 3: ManutenÃ§Ã£o Preventiva", diagnostico.pilar3);
            
            // Limpa o HTML da recomendaÃ§Ã£o para extrair apenas o texto para o PDF
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = diagnostico.recomendacao;
            const recomendacaoText = tempDiv.innerText || tempDiv.textContent || "";
            adicionarSecao("Seu Plano de AÃ§Ã£o Recomendado", recomendacaoText.replace("Fale agora com um especialista no WhatsApp", "")); // Remove o botÃ£o do texto

            doc.save('Diagnostico_TI_Techcomp.pdf');
        } catch (error) {
            console.error("Erro ao gerar o PDF:", error);
            alert("Desculpe, ocorreu um erro ao tentar gerar o PDF. Por favor, verifique o console de erros ou contate o suporte.");
        }
    }

    function getClasseEstilo(textoGeral) {
         if (textoGeral.includes("CrÃ­tico")) return 'critico';
         if (textoGeral.includes("IntermediÃ¡rio")) return 'intermediario';
         if (textoGeral.includes("SaudÃ¡vel")) return 'saudavel';
         return '';
    }
});